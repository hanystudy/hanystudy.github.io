
<!DOCTYPE HTML>
<html>
<head>
	<script data-cfasync="false" type="text/javascript" src="//use.typekit.net/axj3cfp.js"></script>
	<script data-cfasync="false" type="text/javascript">try{Typekit.load();}catch(e){}</script>
	<meta charset="utf-8">
	<title>  | Wing of Dream 梦境之翼</title>

<meta name="author" content="Han Yi"> 

<meta name="description" content="如果说微软将“被迫”开放Kinect for Windows SDK，无疑这次是PrimeSense立了首功。然而要不是我冒着生命危险在鸟不拉屎的地方蹲守了近十天，终于在一个学院林立的院落里拿下Kinect for Taiwan Only，并跋涉1200公里侥幸逃生的话， &hellip;"> <meta name="keywords" content="">

	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="Wing of Dream 梦境之翼" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<link href="/stylesheets/font-awesome.min.css" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	<script type="text/javascript" src="/javascripts/jquery.fancybox.pack.js"></script>

<script language="Javascript" type="text/javascript">
$(document).ready(
  function() {
    (function($) {
      $(".fancybox[data-content-id]").each(function() {
        this.href = $(this).data('content-id');
      });
      $(".fancybox").fancybox({
        beforeLoad: function() {
          var el, 
              id = $(this.element).data('title-id');

          if (id) {
            el = $('#' + id);

            if (el.length) {
              this.title = el.html();
            }
          }
          if ($(this).data('content')) {
            this.content = $(this).data('content');
          }
        },
        helpers: {
          title: {
            type: 'inside'
          }
        }
      });
    })(jQuery);
  }
);
</script>

	
</head>



<body>
	<header id="header" class="inner"><h1><a href="/">Wing of Dream 梦境之翼</a></h1>
<h4></h4>
<nav id="main-nav"><ul>
	<li><a href="/">Blog</a></li>
	<li><a href="/about">About</a></li>
	<li><a href="/portfolio">Portfolio</a></li>
	<li><a href="/archives">Archive</a></li>
</ul>
</nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul>
	<li><a href="/">Blog</a></li>
	<li><a href="/about">About</a></li>
	<li><a href="/portfolio">Portfolio</a></li>
	<li><a href="/archives">Archive</a></li>
</ul>
</div>
	</div>
	<div class="alignright search">
		<a class="button"></a>
		<div class="container">
			<form action="https://www.google.com/search" method="get">
				<input type="text" name="q" results="0">
				<input type="hidden" name="q" value="site:www.hanyi.name">
			</form>
		</div>
	</div>
</nav>


</header>

	<div id="content" class="inner">


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2011/05/14/ken-nai-lai-le-Kinect-Kinect-for-Windows-qiang-xian-ti/">
		
			啃奶来了—Kinect for Windows抢先体验</a>
	</h2>
	<div class="entry-content">
		<p>如果说微软将“被迫”开放Kinect for Windows SDK，无疑这次是PrimeSense立了首功。然而要不是我冒着生命危险在鸟不拉屎的地方蹲守了近十天，终于在一个学院林立的院落里拿下Kinect for Taiwan Only，并跋涉1200公里侥幸逃生的话，本文的出炉可能还要推迟一个月左右。总之无论如何，感谢MS，感谢PS，感谢万恶的铁道部，我终于活着且独立完成了这篇文章。</p>

<p>Kinect到底好不好玩，我不知道。不过我知道为了测试一个hand tracker手臂举得酸痛，然而结果就像是我们数年前的理想如今突然变成了现实，而且这种久逢甘霖的冲动仍在持续，套用某牛逼CEO创业时的一句话：“说实话，我们并不清楚它未来将会变成什么。”由于微软将于2011年5月16日正式开放Kinect for Windows SDK beta，尽管是non-commercial use，但对我们来说已经足矣。本文在某种程度上是基于已有hacker的经验谈，基本框架一般是OpenNI+SensorKinect+NITE这样的半官方组合，而要想全面入门体感开发还是需要先研读一下OpenNI UserGuide这种小部头。</p>

<p>下面是啃奶来自NiViewer的第一张深度对比图：</p>

<p>[singlepic id=30 w=320 h=240 mode=watermark float=center]</p>

<p>根据PS的说法，自然交互（Natural Interaction）就是一种基于声音和视觉等人类体感信息的人机交互方式。目前看来，NI设备完全可以取代如遥控器、鼠标等远程控制外设。当前日常生活中常见的自然交互方式包括：</p>

<p>演说以及口令识别，NI设备通过声音接收装置接收语音指令；</p>

<p>手势识别，通过预设计一定的交互范型，人们可以通过简单的手势控制一般设备，如卧室的光照强度；</p>

<p>躯体运动跟踪，NI设备通过识别当前图像中的完整人类躯体，快速分析躯体骨架信息，并将实际躯体运动姿态转换为骨架运动信息。</p>

<p>值得注意的是，前面的图中展示了一张Kinect的深度对比图，也就是说大多数NI设备通过技术手段可以感应物体的空间深度信息，目前已有利用Kinect进行三维场景重建和空间交互的hacker例子。下图是利用NITE的StickFigure追踪人体骨架姿态信息的例子：</p>

<p>[singlepic id=28 w=320 h=240 mode=watermark float=center]</p>

<p>简单修改一下NITE的PointViewer例子，我们可以把手势跟踪进一步改进为手势鼠标控制（已做消除抖动处理），如下图：</p>

<p>[singlepic id=29 w=320 h=240 mode=watermark float=center]</p>

<p>由于目前官方SDK尚未推出，基于Kinect的开发框架方案已有许多，但缺乏权威性。较令人信服的组合除了我们上述建议的三件套，再加上OpenCV算法包和OpenGL库就足以做出十分不错的应用了。即日起本站新增加Kinect项目板块，将重点关注基于Kinect的应用开发。值得一提的是，目前在kinect开发领域拥有一个人气不错的中文社区<a href="http://www.cnkinect.com%EF%BC%8C%E8%BF%99%E5%9C%A8%E5%9B%BD%E5%86%85%E5%AD%A6%E9%99%A2%E6%B4%BE%E6%97%A5%E7%9B%8A%E8%A1%B0%E5%BE%AE%E7%9A%84%E4%BB%8A%E5%A4%A9%E7%BB%9D%E5%AF%B9%E6%98%AF%E9%9A%BE%E8%83%BD%E5%8F%AF%E8%B4%B5%E7%9A%84%EF%BC%8C%E4%BB%8A%E5%90%8E%E6%88%91%E4%BB%AC%E4%B9%9F%E5%B0%86%E6%8C%81%E7%BB%AD%E5%85%B3%E6%B3%A8%E8%BF%99%E4%B8%80%E7%A4%BE%E5%8C%BA%E7%9A%84%E5%8A%A8%E6%80%81%E3%80%82">http://www.cnkinect.com%EF%BC%8C%E8%BF%99%E5%9C%A8%E5%9B%BD%E5%86%85%E5%AD%A6%E9%99%A2%E6%B4%BE%E6%97%A5%E7%9B%8A%E8%A1%B0%E5%BE%AE%E7%9A%84%E4%BB%8A%E5%A4%A9%E7%BB%9D%E5%AF%B9%E6%98%AF%E9%9A%BE%E8%83%BD%E5%8F%AF%E8%B4%B5%E7%9A%84%EF%BC%8C%E4%BB%8A%E5%90%8E%E6%88%91%E4%BB%AC%E4%B9%9F%E5%B0%86%E6%8C%81%E7%BB%AD%E5%85%B3%E6%B3%A8%E8%BF%99%E4%B8%80%E7%A4%BE%E5%8C%BA%E7%9A%84%E5%8A%A8%E6%80%81%E3%80%82</a></p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2011-05-14T20:46:15+08:00" pubdate data-updated="true">2011-05-14</time></div>
	

<div class="tags">

	<a class='category' href='/blog/categories/kinect/'>kinect</a>

</div>


	
		<span class="comments"><a href="/blog/2011/05/14/ken-nai-lai-le-Kinect-Kinect-for-Windows-qiang-xian-ti//posts/8/index.html#disqus_thread">Comments</a></span>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2011/04/26/zhen-lei-a/">
		
			真累啊</a>
	</h2>
	<div class="entry-content">
		<p>本来就懒得跑，没消停几天就又得出差&hellip;人生真真是个杯具。</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2011-04-26T23:38:52+08:00" pubdate data-updated="true">2011-04-26</time></div>
	

<div class="tags">

	<a class='category' href='/blog/categories/tian-xuan-zhi-zuo/'>天选之作</a>

</div>


	
		<span class="comments"><a href="/blog/2011/04/26/zhen-lei-a//posts/8/index.html#disqus_thread">Comments</a></span>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2011/04/17/web-kai-fa-de-ruo-gan-an-quan-wen-ti-xiao-jie/">
		
			Web开发的若干安全问题小结</a>
	</h2>
	<div class="entry-content">
		<p> 万恶的项目终于要结题了&hellip;这时无论如何确该总结一下。实际上这次项目最大的收获有两部分，本文仅介绍其中之一—Web开发中的一些安全问题及其解决策略。</p>

<p> 项目的安全问题起源于首次测试版本提交。测试方使用了IBM Rational Appscan扫描提交的两部分应用程序，每个应用程序返回了将近二十个安全问题，具体列表这里先省略。Appscan是IBM旗下知名的web安全自动化测试工具，同类产品中较知名的还有HP的Webinspect。测试方回复的意思是说所有安全问题在项目验收前必须全部解决，而事实上本项目从设计阶段起就没有考虑过应用程序级的安全问题，对方也从未提出过此类要求。不过我们还是尝试先在逻辑上处理部分问题，自测后发现所有问题依然存在，包括众所周知且已有很多解决方案的Injection。</p>

<p> 纠结几日后大家终于决定重构，考虑在重构过程中再应用安全策略，于是又花了几周时间问题才得以基本解决。然而在解决web安全问题的过程中我们查阅了较多资料，由于缺乏经验，网上的许多解决方案基本都是无效的。当然也不能排除测试手段随着新的漏洞出现而加强的可能。这里我们仅就使用Appscan 7.8.0.2 Rules-Update 947的测试报告针对一些常见问题给出相应的解决办法。</p>

<p> 应当注意，目前Web安全领域拥有自己的国际性非盈利组织OWASP（Open Web Application Security Project），大部分Web安全问题的讨论都可以在<a href="https://www.owasp.org/index.php/Main_Page"><a href="https://www.owasp.org/index.php/Main_Page">https://www.owasp.org/index.php/Main_Page</a></a>上找到相应的文章。如果读者对Web安全感兴趣，那么可以直接转向官网，本文接下来只考虑如何让应用程序通过Appscan 7.8的安全测试:)（如果仅仅是服务器或tomcat配置的问题，那么本文将不涉及）</p>

<p> <strong>Injection</strong></p>

<p> SQL盲注问题十分普遍，一般考虑前端+后台验证。我们最初在后台对每个表单进行了关键词检测，然而测试依然不通过，而且仔细查阅资料后发现我们的过滤规则要比一般规则复杂得多，唯一问题在于处理策略不同：我们是直接给出错误提示，而大部分策略是将关键词截断后交付处理。郁闷的是改进后依然不能通过测试。于是开始求助，发现许多专业的JEE开发人员基本都直接使用一种servlet过滤器，项目地址<a href="http://securityfilter.sourceforge.net/"><a href="http://securityfilter.sourceforge.net/">http://securityfilter.sourceforge.net/</a></a>，更神奇的是，配置该过滤器后问题的确不存在了，但是从表单直接进行关键词提交后台依然能收到完整语句，比较奇怪。此外，另一个问题Cross Site Scripting跨站点脚本攻击由于此过滤器的出现也不复存在了。</p>

<p> <strong>Inadequate Account lockout</strong></p>

<p> 不充分的账户封锁，这个问题看起来很简单，就是为了防止黑客暴力破解用户密码。尽管目前大多数站点使用的验证码技术已经足以克服此类问题，但Appscan测试对于验证码确实是无能为力的，因此测试方要求取消应用程序的验证码功能。后来使用了错误次数限制方案，如果某用户登录失败超过若干次，则直接禁止用户再尝试登录，直到申请管理员解封为止。</p>

<p> <strong>Session Identifier Not Updated</strong></p>

<p> 会话标识未更新，Appscan给出的描述是建议用户每次登录时需使用新的会话标识。网上给出了一种很简单的解决方案：</p>

<p>[c] session.invalidate();</p>

<p> Cookie cookie = request.getCookies()[0];</p>

<p> cookie.setMaxAge(0);[/c]</p>

<p> 上述代码是解决问题的核心，但不会使用照样无法解决任何问题。我们最终的解决方法是限制每次停留在登录页上的时间，如果超时提交登录则返回页面更新session后要求重新登录。另外，对于任何登录失败、用户注销、意外退出等情况都要彻底清除一遍sessionid。最后为了彻底解决这一问题，每次用户进入login页面后先检查sessionid是否更新，否则跳至过渡页清空sessionid后再返回login，问题解决。</p>

<p> <strong>Unencrypted Login Request</strong></p>

<p> 已解密的登录请求，要求就是数据加密传输。开始想当然地编写了一种简单的前端加密算法，再从后台进行解密，然而Appscan依然报此错（现在感觉是测试软件本身的问题，最后再谈）。于是决定转https，JEE平台转https的通行步骤如下：使用java keytool生成RSA密钥，打开tomcat的8443端口，并配置相应密钥即可，具体步骤网上很多，GOOGLE即可。更麻烦的问题随之而来，测试方认为尽管提供了8443的https访问，但仍然还可以通过8080使用普通的http访问，并要求禁止普通模式登录。</p>

<p> 但是由于要把8080端口提供给项目的WebService组件，不太可能完全禁掉。这里在项目web.xml里添加了一些配置解决：</p>

<p>[c]&lt;security-constraint&gt;</p>

<p>&lt;!&ndash; Authorization setting for SSL &ndash;&gt;</p>

<p>&lt;web-resource-collection &gt;</p>

<p>&lt;web-resource-name &gt;SSL&lt;/web-resource-name&gt;</p>

<p>&lt;url-pattern&gt;*.jsp&lt;/url-pattern&gt;</p>

<p>&lt;url-pattern&gt;*.action&lt;/url-pattern&gt;</p>

<p>&lt;/web-resource-collection&gt;</p>

<p>&lt;user-data-constraint&gt;</p>

<p>&lt;transport-guarantee&gt;CONFIDENTIAL&lt;/transport-guarantee&gt;</p>

<p>&lt;/user-data-constraint&gt;</p>

<p>&lt;/security-constraint&gt;</p>

<p>&lt;login-config&gt;</p>

<p>&lt;!&ndash; Authorization setting for SSL &ndash;&gt;</p>

<p>&lt;auth-method&gt;CLIENT-CERT&lt;/auth-method&gt;</p>

<p>&lt;realm-name&gt;Client Cert Users-only Area&lt;/realm-name&gt;</p>

<p>&lt;/login-config&gt;[/c]</p>

<p> 应注意，由于项目的一些组件无法通过https，因此url-pattern字段只对.jsp和.action进行了限制，如果不做特定限制，则系统默认是全部使用https传输。而且上述设置一旦在某个工程中出现，那么当前tomcat将全局采用这一配置。（这是实验结果，目前不评价其合理性）</p>

<p> <strong>Cross-site request forgery</strong></p>

<p> 跨站点请求伪造，网上研究文章一大堆，同时也是OWASP 2010 TOP 10级别。问题是很久都无法根本解决，经过两周研究后终于得以通过Appscan的CSRF检测。其实基本思路很简单，即在用户的提交的表单中加入一个隐藏域，存储一个唯一验证标识码：如sessionid。用户提交表单后由后台首先验证sessionid与提交标识是否一致，否则报错。</p>

<p> 然而要过Appscan的检测还是不太容易。首先是针对所有action的sessionid验证标识码检查，例如login，如果在session中始终保留一个标识，那么可能会报Session Identifier Not Updated错，解决方法是在登录成功后修改一下验证标识码。其实许多无法彻底解决的原因在于报错处理，起初我们将此类错误全部统一转向了一个安全报错页面，后来始终都无法解决这一问题。后来发现如果将错误情况转至首页则Appscan就不会报错，这可能是一个软件特征匹配的bug。</p>

<p> 除此之外，包括许多tomcat的配置问题这里就不再一一说明了。本次项目所引出的web安全问题确实需要得到重视，然而我们也应看到，过渡迷信流行的自动化测试工具可能会导致在某些问题上缘木求鱼，尤其是对于Appscan这种判断防御行为的复杂软件，仅靠有限的规则设置就当做是web安全的唯一标准——这也并非是聪明人的选择。</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2011-04-17T00:59:26+08:00" pubdate data-updated="true">2011-04-17</time></div>
	

<div class="tags">

	<a class='category' href='/blog/categories/web/'>web</a>

</div>


	
		<span class="comments"><a href="/blog/2011/04/17/web-kai-fa-de-ruo-gan-an-quan-wen-ti-xiao-jie//posts/8/index.html#disqus_thread">Comments</a></span>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2011/04/09/ji-ri-qi-kai-shi-tong-bu-fen-fa-blog-shu-ju/">
		
			即日起开始同步分发blog数据</a>
	</h2>
	<div class="entry-content">
		<p> 本博即将迎来第300篇文章了。重建三年多来我做过多次较大的改动，这一版本无疑是维持较久的（已超过一年时间）。目前觉得对大家有所帮助的还是有关于技术方面的文章，但显然技术需要“交流”才能进步。不过有趣的是本博自诩为“交流频道”，却几乎没有相关交流的内容——这其实与我始终坚守这个独立的小站点有关，更何况百度根本不买我等穷弱儒的账。</p>

<p> 然而独立建站是我十余年的信念，岂能轻易废止。在300篇纪念之际我决定争取彻底改变多年来封闭写作的习惯，将原创文章第一时间推送至renren.com和qqzone，同时进一步向google提交新摘要数据并加强seo。另一方面，由于时间的原因，我能拥有的亲自撰写文章的时间越来越少，但潜在的阅读量仍十分可观。因此决定今后在三个不同的blog上提交侧重不同的数据：</p>

<p> <a href="http://">http://</a><a href="http://www.hanyi.name">www.hanyi.name</a> mp77的技术交流频道：主站点，注重原创文章，实际上目前已很少有转载内容了。</p>

<p> <a href="http://8621316.qzone.qq.com"><a href="http://8621316.qzone.qq.com">http://8621316.qzone.qq.com</a></a> QQ空间日志：重点转载文章，内容将多样化。</p>

<p> <a href="http://blog.renren.com/micropotato"><a href="http://blog.renren.com/micropotato">http://blog.renren.com/micropotato</a></a> 人人网日志：同步hanyi.name数据，并记录转载+评论的短篇文章。</p>

<p> 采取以上策略的原因在于，由于长时间逐渐减少，在短时间的条件下通过压缩原创篇幅来扩大信息量。如果有朝一日非主站点的数据量足够吸引人的话，我仍会选择将其中数据反导入到主站点中。</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2011-04-09T22:50:17+08:00" pubdate data-updated="true">2011-04-09</time></div>
	

<div class="tags">

	<a class='category' href='/blog/categories/tian-xuan-zhi-zuo/'>天选之作</a>, <a class='category' href='/blog/categories/zhan-dian-ri-zhi/'>站点日志</a>

</div>


	
		<span class="comments"><a href="/blog/2011/04/09/ji-ri-qi-kai-shi-tong-bu-fen-fa-blog-shu-ju//posts/8/index.html#disqus_thread">Comments</a></span>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2011/04/09/tsp/">
		
			可爱的TSP</a>
	</h2>
	<div class="entry-content">
		<p> 有意思的是，我接触到的第一个算法问题就是TSP（旅行商问题），自此以后我开始热衷于计算机科学，遗憾的是至今也未有什么收获。但是很显然，TSP及其衍生问题始终是横亘面前的一座高峰，对每一个人—包括所有计算机科学家，都是那么的不可逾越。也许真要等超越阿兰图灵的大师出现—我等凡人恐怕是看不到这一天了。</p>

<p> 不过这里仍要说明的是，我们学习和体会TSP，并不是为了吃饱撑的自虐，也非为了搬弄别人整出的玩意来给自己凑文章。TSP的解法之多令人惊讶，各种方法—即使是一名高中生和一位大学教授所掌握的，在TSP面前似乎都一律平等。但它为我们巩固和发掘基本算法提供了确切的衡量准则，我想这才应该是凡人研究TSP的真正目的。</p>

<p> TSP问题最初的形式来源于爱尔兰数学家W. R. Hamilton发明的智力迷绳游戏，即在一张无向图中找到一条Hamilton回路。也就是从无向图中任意起点处找到一条路径，该路径唯一地穿过图中的每个顶点，最终回到起点。通常Hamilton回路也被称为Hamilton圈。经过若干年演进，普林斯顿大学的Hassler Whitney首次将该系列问题命名为Travelling Salesman Problem，即TSP，此时问题不仅限于找到一条回路了—而是要求找到花费尽可能少的解。1972年，伯克利的Richard M. Karp证明了Hamilton回路问题是NP完备的，那么作为Hamilton回路的扩展—TSP问题也至少具有NP难的特性。截止目前，应用传统方法解决TSP问题的有动态规划法、贪心法、回溯法、分支限界法、线性规划方法以及采用混合策略；而对于在有限时间内寻找尽可能优解的大规模TSP问题，目前更多的倾向于采用随机组合优化搜索方法，如模拟退火、禁忌搜索、神经网络、蚁群算法、遗传算法以及混合策略等。</p>

<p> 应当注意的是，一个实用的TSP解决方案，通常包括了两个阶段的改进算法，即第一步的初始路径生成和第二步的优化算法。当然，由于本文并非是研究某种特定的算法及其改进，因此并不会突出介绍其中某一个阶段。下面我们就常用的解决方法进行介绍并做简单评价。</p>

<p> <strong>动态规划</strong></p>

<p><span style="color: #000000;"> DP思路清晰，易于实现。显然很方便就能找到TSP的最优子结构，从而给出基本的状态转移方程Mk(i,V) = min(Mk-1(j,V{j}),dij)。需要指出的是，DP解决这一类图论问题都具有较高的时间和空间复杂度，一般可用于求解问题规模较小的TSP问题。</span></p>

<p><span style="color: #000000;"> <strong>贪心思想</strong></span></p>

<p><span style="color: #000000;"> Greedy为我们贡献了许多著名的图论算法，如Dijkstra的SSP、Prim和Kruskal的MST等等。然而贪心多用于求近似解，而非定格于最优值。目前贪心思想常用于辅助随机搜索算法，类似一种启发式机制，但初始解在许多情况下与最优解相距较远。</span></p>

<p><span style="color: #000000;"> <strong>回溯法</strong></span></p>

<p><span style="color: #000000;"> 一般的TSP问题可以简单归纳为排列树问题，那么应用回溯法的确可以得出最优解。问题在于，回溯法的解空间非常庞大，一般的剪枝方法并不十分有效，其时间复杂度上界甚至达到n!。然而通过DP思想的启发，我们可以尝试设计一种自顶向下的动态规划算法解决TSP问题，即备忘录方法。备忘录方法相当于搜索和DP的一种折衷，但也丝毫没有改善较高空间复杂度的问题。</span></p>

<p><span style="color: #000000;"> <strong>分支限界法</strong></span></p>

<p><span style="color: #000000;"> BB也是一种解空间搜索方法，但和回溯法有明显区别。回溯法通常是一种DFS搜索方法，而BB实际上是一种BFS方法。其中采用队列式的BB方法本质上就是BFS，只不过添加了一定程度上的剪枝策略。而采用优先队列的BB倾向于寻找一个最优解，在许多最优化问题中，如果限界函数和优先队列设计得当，那么BB的性能要优秀许多。然而不可否认，BB的时间复杂度上界实际上并不比回溯法低。</span></p>

<p><span style="color: #000000;"> <strong>整数线性规划</strong></span></p>

<p><span style="color: #000000;"> 线性规划方法本身就要比TSP问题复杂得多，这里不得不提LP的原因在于，诞生以来计算机科学本应是崇尚应用的科学，尽管学科本身目前还比不上数学、物理学的历史悠久和博大精深，但后者如今基本上需要计算机来完成从理论到实践的跨越。我认为如果一位科学家只热衷于研究理论，那么他应被称作是数学家或者物理学家。</span></p>

<p><span style="color: #000000;"> 这里所说的整数线性规划ILP解决TSP问题，实际上是由美国兰德公司的科学家在上世纪50年代提出的。如今ILP被用于许多学科，最直观的—如现代物流专业，TSP是其必须解决的基本问题之一，目前ILP已成为运筹学中的专门课题。ILP问题描述如下：</span></p>

<p><span style="color: #000000;"> 试求min(c<strong>x</strong>)，使其满足A<strong>x</strong>=<strong>b</strong>，其中A为m*n矩阵，<strong>x</strong>为n维列向量，<strong>x</strong>&gt;=0。</span></p>

<p><span style="color: #000000;"> 根据数据特征的不同，ILP问题又可分为0-1ILP问题、混合ILP问题和纯ILP问题。一般的TSP问题可描述为典型的0-1ILP问题，故可用各种基于线性规划单纯形算法的割平面方法尝试解决。</span></p>

<p> 实际上，针对大规模TSP问题，现有的确定性方法已经很难在规定时间内得出较好的解—当然，如果不计耗费，那么上述算法恐怕还是得到最优解的截至目前的绝对保证，其花费甚至达到了数百CPU年。那么，许多智能算法的大行其道也就有其合理性了。唯一的问题在于，大部分智能算法来源于生物、物理学仿真和人工智能，学习和理解起来并不容易，更何况要用于解决实际问题。况且当前智能算法的“遍地开花”也表明，此类方法的稳定性和准确性还需得到进一步检验和完善。</p>

<p> 由于时间紧张（万恶的项目居然又延期&hellip;），我们这里无法再就智能算法做进一步展开了。下个月的文章里，我们将尝试介绍并实现一种应用确定性方法和智能算法解决类TSP（难度超过非对称TSP）问题的例子。</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2011-04-09T15:21:00+08:00" pubdate data-updated="true">2011-04-09</time></div>
	

<div class="tags">

	<a class='category' href='/blog/categories/suan-fa-tao-lun/'>算法讨论</a>

</div>


	
		<span class="comments"><a href="/blog/2011/04/09/tsp//posts/8/index.html#disqus_thread">Comments</a></span>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2011/03/26/mang-II/">
		
			忙II</a>
	</h2>
	<div class="entry-content">
		<p> 果然是<a href="http://www.hanyi.name/blog/?p=273">忙I</a>的升级版，半夜偷偷跑回家逛逛，天亮就得回实验室了。下周的文章主题是古老与永恒—关于tsp问题。</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2011-03-26T00:19:10+08:00" pubdate data-updated="true">2011-03-26</time></div>
	

<div class="tags">

	<a class='category' href='/blog/categories/tian-xuan-zhi-zuo/'>天选之作</a>

</div>


	
		<span class="comments"><a href="/blog/2011/03/26/mang-II//posts/8/index.html#disqus_thread">Comments</a></span>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2011/03/19/yang-tiao-cha-zhi-de-yi-ban-fang-fa-xia/">
		
			样条插值的一般方法（下）</a>
	</h2>
	<div class="entry-content">
		<p> 前一篇文章中，我们通过基本的三次Bezier曲线引入了样条曲线插值的一般方法—catmull-rom及其改进算法Bessel—Overhauser。这里首先需要澄清的是，本文题名为“样条插值的一般方法”，实际上仅限于在计算机图形学中作基础应用性的讨论，而非是对数值计算方法中有关插值或曲线拟合的一般性总结，事实上在现阶段研究大量的理论方法对实际工作而言并无多大意义—当然，如果读者来自数学相关专业，本文的内容可能没有任何帮助，甚至起到误导的作用。</p>

<p> 同时，在继续这次的讨论之前，我们需要对上节遗留的问题做一些补充。因为我们愈加注意到，当前的基本造型技术所采用的样条插值方法实际上是改进后的catmull-rom，许多文献介绍了各种各样的改进算法，如果读者确实需要更加灵活可控的样条插值，除了上文文末的参考文献外，可能还需要阅读但不仅限于Kockanek和Bartels等人的论文。</p>

<p> 有了上述样条曲线插值的基础，就可以尝试进行曲面插值了。在这之前，我们应先回顾一下Bezier曲面的构造方法。</p>

<p> 三次Bezier曲面的控制点有4*4个，从基本公式来看，单独固定u值或v值，所得到的截面曲线实际上是普通的三次Bezier曲线。下面的影片演示了三次Bezier曲面的边界曲线构造过程，完整空间的情况比较复杂，待webGL成熟后我们会改进演示&hellip;&hellip;</p>

<p> <object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="480" height="380" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0"><param name="quality" value="high" /><param name="scale" value="showall" /><param name="salign" value="t" /><param name="wmode" value="transparent" /><param name="src" value="http://www.hanyi.name/blog/wp-content/uploads/2011/03/bezier-surf.swf" /><embed type="application/x-shockwave-flash" width="480" height="380" src="http://www.hanyi.name/blog/wp-content/uploads/2011/03/bezier-surf.swf" scale="showall" wmode="transparent" salign="t" quality="high"></embed></object></p>

<p> 类似基于分段Bezier曲线的样条曲线插值，同样可以使用局部Bezier曲面拼接的方法构建样条曲面插值。关键问题在于如何尽可能确保曲面拼接的连续性。由已知，两个Bezier曲面在边界处C1连续，实际上即其在边界处的偏导数非零且相等。现在给定m*n个控制点，要求构造通过每个控制点的C1连续的Bezier曲面。分析如下：</p>

<p> 1、按照catmull-rom的思路，易知可对相邻两个控制点插值构建Bezier曲线。</p>

<p> 2、又由前文的结论得知，三次Bezier曲面在边界处完全是一条只受边界点控制的三次Bezier曲线。</p>

<p> 由1、2，将m<em>n个控制点划分为相邻的2</em>2角点集，每个角点集内部的4个角点即局部三次Bezier曲面片的顶点。通过Catmull-rom或Bessel-Overhauser算法在每条边界插值2个额外控制点，从而构建4条边界曲线。为了保证相邻曲面片C1连续，需要考虑局部面片中间的4个控制点。</p>

<p> 这里引入三次Bezier曲面在角点处的扭向量的概念：对于三次Bezier曲面，扭向量是指曲面在角点处的二阶混合偏导数。为了保证构建的曲面在边界处偏导数相等，可以将连续条件公式做简单变换，并使用扭向量表示。那么只需给定扭向量即可简单算出剩余的4个控制点值了。</p>

<p> 最简单的扭向量计算方法是直接令其为0，那么其等价于Ferguson法（1964）构造的曲面。其缺陷是曲面在插值点处较“平”，这种情况在真实感图形绘制时会变得尤为明显。还有其它一些扭向量的估计方法，如标准公式，但其仅限于在控制点等间距的情况下使用。当控制点间距不相等时，我们建议参考Buss的《3D computer graphics》中提到的方法。当然，作者推荐的《Curves and Surfaces for Computer-Aided Geometric Design: A Practical Guide》by Gerald Farin也绝对是几何造型领域的必备导论书了。</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2011-03-19T16:32:56+08:00" pubdate data-updated="true">2011-03-19</time></div>
	

<div class="tags">

	<a class='category' href='/blog/categories/ke-shi-hua/'>可视化</a>

</div>


	
		<span class="comments"><a href="/blog/2011/03/19/yang-tiao-cha-zhi-de-yi-ban-fang-fa-xia//posts/8/index.html#disqus_thread">Comments</a></span>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2011/03/13/jia-ru-gong-bei-gai-bian-cheng-RPG/">
		
			假如《宫》被改编成RPG&#8230;</a>
	</h2>
	<div class="entry-content">
		<p> 这周休息，看完了最后十集的《宫》。突然想到，如果本剧能改编为3D RPG for pc就更好了。</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2011-03-13T11:37:24+08:00" pubdate data-updated="true">2011-03-13</time></div>
	

<div class="tags">

	<a class='category' href='/blog/categories/tian-xuan-zhi-zuo/'>天选之作</a>

</div>


	
		<span class="comments"><a href="/blog/2011/03/13/jia-ru-gong-bei-gai-bian-cheng-RPG//posts/8/index.html#disqus_thread">Comments</a></span>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2011/03/05/yang-tiao-cha-zhi-de-yi-ban-fang-fa-shang/">
		
			样条插值的一般方法（上）</a>
	</h2>
	<div class="entry-content">
		<p>  没有接触过计算机曲线、面生成技术的人可能会想到，如果我们给定一个点集序列，再根据该集合生成一条经过每个点的曲线，同时曲线的形态还可以依据点的相互位置而定。</p>

<p> 然而当我们初步接触了Bezier curve，敬佩之余还带有稍许失望。不过在这之前我们必须承认，“控制点”生成曲线的方法早已是老祖宗的专利，后来Citroen的de Casteljau和Renault的Bezier先后终于完成了样条曲线的数学定义。Bezier曲线的成功得益于其三个出色的特性：控制点简单、光滑度较好且可控以及允许Bezier反算。下面是直接根据三次Bezier公式生成带有四个控制点的Bezier曲线的过程。</p>

<object style="width: 412px; height: 300px;" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="412" height="300" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0"><param name="wmode" value="transparent" /><param name="src" value="http://www.hanyi.name/blog/wp-content/uploads/2011/03/bezier.swf" /><param name="align" value="top" /><embed style="width: 412px; height: 300px;" type="application/x-shockwave-flash" width="412" height="300" src="http://www.hanyi.name/blog/wp-content/uploads/2011/03/bezier.swf" wmode="transparent" align="top"></embed></object>


<p> 应当注意的是，工业标准的Bezier曲线生成往往采用基于de Casteljau算法的递归细分策略，其目的是为了确保进行计算机数值计算的稳定性，进一步提高曲线的精度。 现在我们希望解决文章开始的疑问，其实质是利用Bezier曲线进行插值，以构建能够通过“所有”控制点（实际上Bezier曲线往往通过首尾两个控制点）的曲线。</p>

<p> 通过对Bezier的学习我们知道，Bezier曲线必然通过首尾控制点的特性其实完全可以被用于插值算法。我们把有序点序列相邻两点作为首尾控制点，据此生成分段Bezier曲线，即可满足要求。这一过程需要解决两个问题：</p>

<p> 1、若采用分段三次Bezier曲线，如何确定除首尾控制点的另外两点；</p>

<p> 2、连接若干分段三次Bezier曲线的平滑性如何得以保证；</p>

<p> 早在1974年，Edwin Catmull和Raphael Rom发表《A class of local interpolating splines》一文，就解决了上述问题，而且至今仍是最重要的曲线插值方法。</p>

<p> 值得一提的是，Edwin Catmull是计算机图形学领域一名做出过许多突出贡献的科学家（如纹理映射、双三次Bezier曲面、反走样算法、曲面细分的优化算法，还独立发明了Z-Buffer技术），而且还是现代影视动画工业的奠基人之一。1979年，Catmull离开了纽约理工学院计算机图形学实验室，加盟Lucas的工业光魔并领导其计算机动画部门。1986年该部门被Steve Jobs收购，Catmull也成为新公司Pixar的CTO。2006年Disney收购Pixar，Catmull成为现任Disney Animation Studios&amp;Pixar Animation Studios总裁。</p>

<p> 假设有m+1个插值点<strong>p0</strong>,&hellip;<strong>pm</strong>，现在要才用分段三次Bezier曲线，则Catmull-Rom样条曲线包含m-2条Bezier曲线，其中第i条Bezier曲线起始于<strong>pi</strong>终止于<strong>pi+1</strong>。设：</p>

<p> <strong>li</strong>=&frac12;(<strong>pi+1</strong> - <strong>pi-1</strong>)</p>

<p> 且</p>

<p> <strong>pi+</strong> = <strong>pi </strong>+ 1/3li以及<strong>pi-</strong> =<strong> pi</strong> - 1/3<strong>li</strong></p>

<p> 然后设<strong>qi(</strong>u)是<strong>pi</strong>、<strong>pi+</strong>、<strong>pi+1-</strong>、<strong>pi+1</strong>为控制点的Bezier曲线—曲线的定义域被变成了i&lt;=u&lt;=i+1。将这些Bezier曲线拼接在一起，就构成了完整的Catmull-Rom样条曲线q(u)，使得对于任何i&lt;=u&lt;=i+1都有<strong>q</strong>(u)=<strong>qi</strong>(u)。</p>

<p> 其示例如图：</p>

<p><img class="aligncenter size-medium wp-image-290" title="catmull" src="http://www.hanyi.name/blog/wp-content/uploads/2011/03/catmull-300x180.png" alt="" width="300" height="180" /></p>

<p> Catmull-Rom存在一定的不足，当某相邻点间距明显小于其它点的平均相邻距离时，生成的曲线会发生“漂离现象”，也就是导致G1不连续。实际上Catmull-Rom的问题主要在于额外的控制点位置异常，采用被称作Bessel-Overhauser的样条函数即可解决这一问题，这就是不同于均匀参数化的弦长参数化方法，此外还有一种节点值参数化方法，即向心参数化方法。有兴趣的读者可以查阅其它相关文献。</p>

<p> 本文的参考资料来源于Samuel R.Buss的《3D computer graphics—a mathmatical introduction with OpenGL》相关章节，以及两篇分别来自T.Y.Kim和Christopher Twigg的论文。下次我们将讨论构造曲面的一般方法（当然具体日期要根据下周的空余时间而定了）。</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2011-03-05T20:19:05+08:00" pubdate data-updated="true">2011-03-05</time></div>
	

<div class="tags">

	<a class='category' href='/blog/categories/ke-shi-hua/'>可视化</a>

</div>


	
		<span class="comments"><a href="/blog/2011/03/05/yang-tiao-cha-zhi-de-yi-ban-fang-fa-shang//posts/8/index.html#disqus_thread">Comments</a></span>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2011/02/27/flowingdata-2010-de-10-10-zui-zui-jia-shu-ju-ke-shi-hua-gong/">
		
			Flowingdata:2010年的10个最佳数据可视化工程</a>
	</h2>
	<div class="entry-content">
		<p> 本周是开学第一周，事务繁多，故无暇进行相关专题讨论了。这里仅转载一篇来自flowingdata的有趣文章，值得一提的是，数据可视化、可视分析等都是最近几年才逐渐兴起的新兴科学，尽管下面这篇文章仅仅能代表原作者的个人观点，但我们似乎能从中一窥可视化技术在未来的科学和经济价值。</p>

<p> <a href="http://flowingdata.com/2010/12/14/10-best-data-visualization-projects-of-the-year-%E2%80%93-2010/" target="_blank">10 Best Data Visualization Projects of the Year – 2010</a></p>

<p> 同时，这里给出译言网相应译文地址：</p>

<p> <a href="http://article.yeeyan.org/view/191841/163084"><a href="http://article.yeeyan.org/view/191841/163084">http://article.yeeyan.org/view/191841/163084</a></a></p>

<p> 最后，在这里贴一张同样是来自flowingdata的图片(原作者是Moritz Resl)。</p>

<p> <a href="http://flowingdata.com/wp-content/uploads/2011/02/Life-flow-575x575.jpg"><img class="alignnone" title="life-flow" src="http://flowingdata.com/wp-content/uploads/2011/02/Life-flow-575x575.jpg" alt="" width="518" height="518" /></a></p>

<p> 对于这张过于“简单”的状态图，Moritz在swiss-miss上也给出了自己的解释：</p>

<p> <em>Let&rsquo;s not forget though that sometimes doing stuff you like leads to sad, and more importantly, doing stuff you don&rsquo;t like can lead to happy.</em></p>

<p> 我想，到目前为止这句话至少有半句是对的，因为你必须了解：</p>

<p> <em>What&rsquo;s something you really like,more.</em></p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2011-02-27T12:06:30+08:00" pubdate data-updated="true">2011-02-27</time></div>
	

<div class="tags">

	<a class='category' href='/blog/categories/ke-shi-hua/'>可视化</a>, <a class='category' href='/blog/categories/zhuan-zai/'>转载</a>

</div>


	
		<span class="comments"><a href="/blog/2011/02/27/flowingdata-2010-de-10-10-zui-zui-jia-shu-ju-ke-shi-hua-gong//posts/8/index.html#disqus_thread">Comments</a></span>
	
</div></article>

<nav id="pagenavi">
    
    	
        	<a href="/posts/7" class="prev">Prev</a>
        
    
    
        <a href="/posts/9" class="next">Next</a>
    
    <div class="center"><a href="/archives">Blog Archives</a></div>
</nav></div>
	<footer id="footer" class="inner">Copyright &copy; 2020

    Han Yi

<br>
Powered by Octopress.
</footer>
	<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->


<script type="text/javascript">
      var disqus_shortname = 'hanyi';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-49392954-1']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>



</body>
</html>
