---
layout: post
status: publish
published: true
title: C++学习笔记(重温计划之五)
author: mp77
author_login: admin
author_email: 8621316@qq.com
wordpress_id: 37
wordpress_url: http://www.hanyi.name/blog/?p=37
date: 2008-04-11 11:44:32.000000000 +08:00
categories:
- c++/c
tags:
- 连载
- cpp
comments:
- id: 7528
  author: u ac jp zenon face face00777 12 xanax
  author_email: uwxlcsyn@ymzfkdup.com
  author_url: http://coredeveloper.net/members/Xanax-drug-interactions.aspx
  date: !binary |-
    MjAxMC0wNi0wNCAwNToyODowNCArMDgwMA==
  date_gmt: !binary |-
    MjAxMC0wNi0wMyAyMToyODowNCArMDgwMA==
  content: <a href="http://dexterwiki.sho.com/account/xanax-online-r126m" rel="nofollow">xanax
    and valuim</a> , [url="http://dexterwiki.sho.com/account/xanax-online-r126m"]xanax
    and valuim[/url] , http://dexterwiki.sho.com/account/xanax-online-r126m xanax
    and valuim ,
- id: 7644
  author: withdrawl from xanax inf
  author_email: pbvmoeud@piloulrq.com
  author_url: http://xanax3l124.webgarden.com/
  date: !binary |-
    MjAxMC0wNi0wNCAwNzozMjo1OCArMDgwMA==
  date_gmt: !binary |-
    MjAxMC0wNi0wMyAyMzozMjo1OCArMDgwMA==
  content: <a href="http://dexterwiki.sho.com/account/tramadol-online-a126" rel="nofollow">jind
    mahi lyrics tramadol</a> , [url="http://dexterwiki.sho.com/account/tramadol-online-a126"]jind
    mahi lyrics tramadol[/url] , http://dexterwiki.sho.com/account/tramadol-online-a126
    jind mahi lyrics tramadol ,
- id: 8019
  author: cialis generic lowest price viagra
  author_email: awhrbguh@pfkwernx.com
  author_url: http://connect.al.com/user/cialisg138m/index.html
  date: !binary |-
    MjAxMC0wOC0wNiAyMTo0NjoyOCArMDgwMA==
  date_gmt: !binary |-
    MjAxMC0wOC0wNiAxMzo0NjoyOCArMDgwMA==
  content: It is the coolest site, keep so!
- id: 8049
  author: phentermine super rx discount
  author_email: xjnmgxei@yyvhaaly.com
  author_url: http://connect.lehighvalleylive.com/user/phenterminel138m/index.html
  date: !binary |-
    MjAxMC0wOC0wNiAyMjowMDoxOCArMDgwMA==
  date_gmt: !binary |-
    MjAxMC0wOC0wNiAxNDowMDoxOCArMDgwMA==
  content: Great. Now i can say thank you!
- id: 8280
  author: phentermine chen
  author_email: ysmusmet@smabyyjw.com
  author_url: http://gotspeech.net/members/Phentermine+forum.aspx
  date: !binary |-
    MjAxMC0wOC0wNiAyMzo1NjoxNyArMDgwMA==
  date_gmt: !binary |-
    MjAxMC0wOC0wNiAxNTo1NjoxNyArMDgwMA==
  content: If you have to do it, you might as well do it right.
- id: 8424
  author: how to take xanax bars
  author_email: llakafce@hmmonaym.com
  author_url: http://connect.al.com/user/xanaxj138m/index.html
  date: !binary |-
    MjAxMC0wOC0wNyAwMTowODowNiArMDgwMA==
  date_gmt: !binary |-
    MjAxMC0wOC0wNiAxNzowODowNiArMDgwMA==
  content: I bookmarked this link. Thank you for good job!
- id: 8484
  author: st martin shopping viagra
  author_email: zbrmrmzb@bmjnnspi.com
  author_url: http://connect.advance.net/user/Viagra-Online-z138m/index.html
  date: !binary |-
    MjAxMC0wOC0wNyAwMTozNzowMiArMDgwMA==
  date_gmt: !binary |-
    MjAxMC0wOC0wNiAxNzozNzowMiArMDgwMA==
  content: Beautiful site!
- id: 8541
  author: phentermine alternative supplements
  author_email: jnjshswb@siqfftdq.com
  author_url: http://connect.masslive.com/user/Phentermine-Online-5138m/index.html
  date: !binary |-
    MjAxMC0wOC0wNyAwMjowNToyNCArMDgwMA==
  date_gmt: !binary |-
    MjAxMC0wOC0wNiAxODowNToyNCArMDgwMA==
  content: I want to say - thank you for this!
- id: 8633
  author: serious side effects of phentermine
  author_email: kilatcrl@ltocxpex.com
  author_url: http://connect.advance.net/user/Phentermine-Online-9138m/index.html
  date: !binary |-
    MjAxMC0wOC0wNyAwMjo0ODoyNyArMDgwMA==
  date_gmt: !binary |-
    MjAxMC0wOC0wNiAxODo0ODoyNyArMDgwMA==
  content: Very interesting site. Hope it will always be alive!
- id: 8693
  author: history search tramadol hcl
  author_email: omurbclx@btghwlcq.com
  author_url: http://connect.al.com/user/tramadol2138m/index.html
  date: !binary |-
    MjAxMC0wOC0wNyAwMzoxNzoxNiArMDgwMA==
  date_gmt: !binary |-
    MjAxMC0wOC0wNiAxOToxNzoxNiArMDgwMA==
  content: Great site. Good info.
- id: 8831
  author: can xanax cause headaches
  author_email: oedelggp@izboiitk.com
  author_url: http://trailfire.com/xanax_online_7t
  date: !binary |-
    MjAxMC0wOS0yNCAyMDowMTozNSArMDgwMA==
  date_gmt: !binary |-
    MjAxMC0wOS0yNCAxMjowMTozNSArMDgwMA==
  content: Great. Now i can say thank you!
- id: 8850
  author: lose weight with phentermine today
  author_email: nfzeajlj@sskaseky.com
  author_url: http://www.giantbomb.com/profile/phentermines156m/phentermine-forum/30-68393/
  date: !binary |-
    MjAxMC0xMC0xNiAyMToxMjozMSArMDgwMA==
  date_gmt: !binary |-
    MjAxMC0xMC0xNiAxMzoxMjozMSArMDgwMA==
  content: Great. Now i can say thank you!
---
3、数据类型（下）

 1)向量(Vectors)

   Vector是C++标准模板类库的重要组成部分,使用时需要包含头文件vector.主要定义方式如下:

    vector &lt;int&gt; a(10);                     //定义了10个整数元素,但没有赋初值

    vector &lt;int&gt; b(10,1);                  //定义了10个整数元素,且每个元素的初值为1

    vector &lt;int&gt; c(b);                       //用一个现成的向量创建一个向量

    vector &lt;int&gt; d(b.begin(),b.begin()+3);             //定义了一个其值为向量b前3个值的向量

 我们知道,当输出一个数组时我们一般用循环实现.在vector中,有相应的遍历器函数,形式为vector&lt;int&gt;::iterator,例如:

   for(vector&lt;int&gt;::iterator it = a.begin(); it != a.end() ; ++it)

    cout &lt;&lt;*it &lt;&lt;" ";

   有关向量的其他操作如下:

a.assign(b.begin(),b.begin()+3);     //将b的0-2元素构成的向量赋给a
a.assign(4,2);                       //将a向量只含0-3元素,且赋为值2
int x = a.back();                    //将a的最后一个向量元素值赋给整数变量x
a.clear();                           //a向量元素清空
if(a.empty()) cout &lt;&lt; "empty";       //a.empty()作为条件判断空或非空
int y = a.front();                   //将a的第一个向量元素赋给整数变量
ya.pop_back;                         //删除a向量的最后一个元素
a.push_back(5);                      //在a向量最后插入一个元素,其值为5
a.resize(10);                        //将向量元素个数调至10个,多则删,少则补,其值随机
a.resize(10,2);                      //将向量元素个数调至10个,多则删,少则补,其值为2
if(a==b) cout &lt;&lt; "equal";            //向量的比较操作还有!=,&lt;,&lt;=,&gt;,&gt;=

   向量与数组相比的好处是,其空间大小不需要提前指定,可以不断添加新的元素.但是,向量初始化时会分配一定的预留空间,如果添加元素的个数超过了预留空间,则需要扩容.内存意义上的扩容需要删除原空间并添加新的空间,这就必然增加向量操作的负担,因此在预计添加元素个数较多的情况下,我们还是需要给定向量的初始化大小.

   和数组类似,向量也存在2维向量乃至多维向量.我们通常使用 vector&lt;vector&lt;int&gt;&gt; 的形式声明一个2维向量,其一般操作和1维向量的方法是一致的.

 2)指针与引用

   c++的指针应用几乎是必不可少,我们将用较大篇幅来研究指针的用法.

 a.指针的定义

   如下的定义方式都是正确的

   int * p;

   char *cp;

   float* fp;

   double*dp;

   我们也可以定义一个二级指针

   int ** iip;

   但需要注意的是,一个*只能修饰一个指针,例如

   int* ip,iq;   //其中ip为指针变量,而iq为整形变量

   在指针初始化的过程中,有下面的形式:

   int* ip;

   int iCount = 18;

   int* iPtr = &amp;iCount;       //初始化,&amp;表示实体的地址,&amp;后可以是一个变量,但不能是具体数值

   ip = &amp;iCount;;              //赋值

   须注意,int* ip = &amp;iCount; 与 *ip = &amp;iCount; 并不相同,前者为初始化并赋值,后者本身形式错误.诸如 int* iPtr; *iPtr = 58;的语句也是毫无意义的.

 b.指针类型

  指针是有类型的,其类型也必须是一致的.在c语言中,有强制类型转换(int *),但事实上,c++有自身的强制转换函数.例如:

   int* ip = reinterpret_cast&lt;int*&gt;(&amp;f);           //reinterpret的含义本身是" 重解释",因而将float型指针无条件转换为整形指针.

 c.指针运算

   #include&lt;iostream&gt;
   using namespace std;
   int main(void){
     int iArray[6];
     for(int i=0;i&lt;6;++i) iArray[i]= i*2;
     for(int* iP=iArray; iP&lt;iArray+6; iP+=1)
     cout&lt;&lt;iP&lt;&lt;": "&lt;&lt;*iP&lt;&lt;endl;
   }

   上面的程序例中,指针运算在数组中的应用已有了初步展现.同时对于不同类型的指针,相应的运算操作也有不同的数据变化.但是,在指针进行超过数组范围的操作时是非常危险的.

 d.指针限定

   我们知道,一个指针可以表示两个实体,即地址值和间仿值.因而,指针本身也分为指针常量和常量指针.

   const int a = 78;

   int b = 10;

   int c = 18;

   const int* ip = &amp;a;                  //const 修饰指向的实体类型 常量指针 无法修改数值

   int* const cp = &amp;b;                 //const 修饰指针*cp 指针常量 无法修改地址

   int const* dp = &amp;b;                 //同上

   const int *const icp = &amp;c;       //常量指针常量 均无法修改

 e.引用

   引用定义为:

   int someInt = 5,anyInt = 8;

   int &amp; rInt = someIne;    //引用的作用类似别名,但值得注意的是, 如果重定义 rInt = anyInt,则rInt地址不变,值变为8,引用与指针的差别也就在于此了.即引用无法更改所引用的地址.通常我们也能使用const int &amp; rInt = someIne使上述语句无法运行.但实体本身的操作someInt = 8同样能达到目的.

   引用的主要作用是进行参数传递,这在后文中将有较为详细深入的介绍.
